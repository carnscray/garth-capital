---
import Banner from '~/components/Banner.astro';
import Layout from '../../layouts/Layout.astro';
import BlogCard from '../../components/BlogCard.astro';
import { getAllBlogs } from '../../lib/contentful';

const posts = await getAllBlogs(); // returns the normalized shape

// SEO Values //
const pageTitle = "Blog | Know Brainer Trivia";
const pageDescription = "Dive into the world of trivia with the Know Brainer blog. Explore articles on history, pop culture, and science. Your next fun fact is just a click away!";

---

<Layout title={pageTitle} description={pageDescription}>
  <Banner />
<section class="w-full py-4 px-4">
  <div class="max-w-6xl mx-auto text-center">
    <h1 class="text-8xl font-normal mb-10 text-main">Blogs.</h1>

    {posts.length === 0 ? (
      <p class="text-gray-500">No blog posts found.</p>
    ) : (
      <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-10 justify-items-center">
        {posts.map((post) => (
          <BlogCard post={post} />
        ))}
      </div>
    )}
  </div>
</section>

<div class="h-40 bg-white"></div>

</Layout>
